

```{r}
link="https://github.com/cazvan/VisualAnalytics_2_tabularData/blob/master/Small%20Dataset-Caz/policylong.dta?raw=true"
install.packages("haven")
```

```{r}
library(haven)
policylong=read_dta(link)
```

```{r}
names(policylong)
```
```{r}
#dimensions
dim(policylong)
```
```{r}
str(policylong)
```
```{r}
table(policylong$state)
```

```{r}
# relative values
stname=table(policylong$stname,exclude = 'nothing')
prop.table(stname)
```

```{r}
# the pie plots the table:
pieplot=prop.table(stname)
pie(pieplot)
``` 
```{r}
currentyear=policylong[policylong$year=="2018",]
```

```{r}
poliWA=policylong[policylong$stname=="Washington",]
```

```{r}
library(ggplot2)
```

```{r}
barplot(policylong$ex)
```


```{r}
# WIP yearex=policylong[policylong]
barplot(poliWA$ex)
```



```{r}
table(poliWA$ex)
```

```{r}
pieplot=prop.table(waex)
pie(pieplot)

barplot(stname,
         col = paletteHere,
         main=titleText,
         sub=sourceText)
```













```{r}
#this works for older stat files
library(foreign)
policylong=read.dta(link)
```

```{r}
# For opening csv files:
mydata=read.csv(link)
```


